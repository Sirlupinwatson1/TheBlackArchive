namespace GitRead.Net.Data
{
    using System;
    using System.Collections.Generic;
    using System.Runtime.CompilerServices;
    using System.Text.RegularExpressions;

    public class Commit
    {
        private static readonly Regex AuthorRegex = new Regex(______________________________("XiguKik8KC4qKT4gKFxkKikgKFsrfC1dXGR7NH0pJA=="), (RegexOptions) RegexOptions.Compiled);

        public Commit(string hash, string tree, List<string> parents, string author, string message)
        {
            this.<Hash>k__BackingField = hash;
            this.<Tree>k__BackingField = tree;
            this.<Parents>k__BackingField = (IReadOnlyList<string>) parents;
            this.<Message>k__BackingField = message;
            Match match = AuthorRegex.Match(author);
            if (!match.Success)
            {
                throw new Exception(string.Format(______________________________("QXV0aG9yIHN0cmluZyBpbiBjb21taXQgezB9IGNvdWxkIG5vdCBiZSBwYXJzZWQ="), hash));
            }
            this.<Author>k__BackingField = match.get_Groups().get_Item(1).Value.Trim();
            this.<EmailAddress>k__BackingField = match.get_Groups().get_Item(2).Value;
            this.<Timestamp>k__BackingField = DateTimeOffset.FromUnixTimeSeconds(long.Parse(match.get_Groups().get_Item(3).Value)).get_UtcDateTime();
            this.<TimeZoneOffset>k__BackingField = match.get_Groups().get_Item(4).Value;
        }

        public override string ToString() => 
            string.Format(______________________________("Q29tbWl0IHswfQ=="), this.Hash);

        public string Hash =>
            this.<Hash>k__BackingField;

        public string Tree =>
            this.<Tree>k__BackingField;

        public IReadOnlyList<string> Parents =>
            this.<Parents>k__BackingField;

        public string Author =>
            this.<Author>k__BackingField;

        public string EmailAddress =>
            this.<EmailAddress>k__BackingField;

        public DateTime Timestamp =>
            this.<Timestamp>k__BackingField;

        public string TimeZoneOffset =>
            this.<TimeZoneOffset>k__BackingField;

        public string Message =>
            this.<Message>k__BackingField;
    }
}

